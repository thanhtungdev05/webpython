{% extends 'base.html' %}
{% load static %}
{% block title %}ÄÄƒng nháº­p - Travel & Tourism{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/login.css' %}?v=6">
{% endblock %}

{% block content %}
<section class="login-wrapper">
  <div class="login-container">
    <div class="login-left">
      <h1 class="brand-title">ğŸŒ Travel & Tourism</h1>
      <p>KhÃ¡m phÃ¡ tháº¿ giá»›i â€” Báº¯t Ä‘áº§u hÃ nh trÃ¬nh cá»§a báº¡n hÃ´m nay!</p>
      <!--<img src="{% static 'tours/travel-illustration.svg' %}" alt="Travel" class="travel-img">-->
    </div>

    <div class="login-right">
      <div class="login-box">
        <h2>ChÃ o má»«ng trá»Ÿ láº¡i!</h2>
        <p>ÄÄƒng nháº­p Ä‘á»ƒ tiáº¿p tá»¥c hÃ nh trÃ¬nh khÃ¡m phÃ¡ cá»§a báº¡n ğŸŒ</p>

        <form method="POST" id="loginForm">
          {% csrf_token %}
          <div class="input-group">
            <i class="fa-solid fa-user"></i>
            {{ form.username }}
          </div>

          <div class="input-group">
            <i class="fa-solid fa-lock"></i>
            {{ form.password }}
          </div>

          <button type="submit" id="loginBtn" class="btn-login">
            <span class="btn-text">ÄÄƒng nháº­p</span>
            <span class="btn-loader"></span>
          </button>
        </form>

        <p class="register-text">
          ChÆ°a cÃ³ tÃ i khoáº£n?
          <a href="{% url 'register' %}" class="link-register">ÄÄƒng kÃ½ ngay</a>
        </p>
      </div>
    </div>
  </div>
</section>

<!-- SweetAlert2 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

{% if form.errors %}
<script>
  Swal.fire({
    icon: "error",
    title: "ÄÄƒng nháº­p tháº¥t báº¡i!",
    text: "TÃªn Ä‘Äƒng nháº­p hoáº·c máº­t kháº©u khÃ´ng chÃ­nh xÃ¡c âŒ",
    confirmButtonColor: "#e74c3c",
    confirmButtonText: "Thá»­ láº¡i"
  });
</script>
{% endif %}

<script>
  const form = document.getElementById("loginForm");
  const btn = document.getElementById("loginBtn");
  form.addEventListener("submit", () => btn.classList.add("loading"));
</script>
{% endblock %}