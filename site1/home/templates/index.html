{% extends 'base.html' %}
{% load static %}
{% block content %}

<!-- üåÖ Hero Carousel -->
<div id="mainCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
  <div class="carousel-indicators">
    {% for dest in destinations %}
      <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="{{ forloop.counter0 }}" class="{% if forloop.first %}active{% endif %}"></button>
    {% endfor %}
  </div>
  <div class="carousel-inner rounded-4 shadow-lg overflow-hidden">
    {% for dest in destinations %}
      <div class="carousel-item {% if forloop.first %}active{% endif %}">
        <img src="{{ dest.image_url }}" class="d-block w-100" alt="{{ dest.name }}">
        <div class="carousel-caption text-start bg-dark bg-opacity-50 p-3 rounded-3">
          <h1 class="fw-bold display-6">{{ dest.name }}</h1>
          <p class="lead">{{ dest.description|truncatewords:15 }}</p>
          <a href="{% url 'tour_from_destination' dest.id %}" class="btn btn-primary btn-lg shadow">Xem chi ti·∫øt</a>
        </div>
      </div>
    {% empty %}
      <div class="carousel-item active">
        <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=1600" class="d-block w-100" alt="beach">
        <div class="carousel-caption text-start">
          <h1 class="fw-bold display-5">Kh√°m ph√° nh·ªØng b√£i bi·ªÉn tuy·ªát ƒë·∫πp</h1>
          <p class="lead">C√πng ch√∫ng t√¥i t·∫≠n h∆∞·ªüng k·ª≥ ngh·ªâ m∆° ∆∞·ªõc c·ªßa b·∫°n.</p>
          <a href="{% url 'tour_list' %}" class="btn btn-primary btn-lg shadow">Kh√°m ph√° ngay</a>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<!-- ‚ú® ƒê·ªãa ƒëi·ªÉm n·ªïi b·∫≠t -->
<section class="py-5 bg-light">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="fw-bold text-primary">ƒê·ªãa ƒëi·ªÉm n·ªïi b·∫≠t</h2>
      <p class="text-muted">Kh√°m ph√° nh·ªØng ƒëi·ªÉm ƒë·∫øn h·∫•p d·∫´n nh·∫•t c·ªßa ch√∫ng t√¥i</p>
    </div>
    <div class="row">
      {% for dest in destinations %}
      <div class="col-md-4 mb-4">
        <div class="card h-100 border-0 shadow-hover">
          <img src="{{ dest.image_url }}" class="card-img-top rounded-top" alt="{{ dest.name }}">
          <div class="card-body">
            <h5 class="card-title fw-semibold">{{ dest.name }}</h5>
            <p class="card-text text-muted text-truncate">{{ dest.description }}</p>
            <a href="{% url 'tour_from_destination' dest.id %}" class="btn btn-outline-primary">Xem chi ti·∫øt</a>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-12 text-center py-5">
        <img src="{% static 'images/empty-destination.svg' %}" alt="no destinations" width="150" class="mb-3 opacity-75">
        <h5 class="fw-bold text-muted">Ch∆∞a c√≥ ƒë·ªãa ƒëi·ªÉm n·ªïi b·∫≠t n√†o</h5>
        <p class="text-muted">H√£y c√πng kh√°m ph√° th√™m c√°c ƒëi·ªÉm ƒë·∫øn tuy·ªát v·ªùi trong h√†nh tr√¨nh c·ªßa b·∫°n.</p>
        <a href="{% url 'about' %}" class="btn btn-primary mt-3">Gi·ªõi thi·ªáu v·ªÅ ch√∫ng t√¥i</a>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- üå¥ Tour n·ªïi b·∫≠t -->
<section class="py-5">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="fw-bold text-primary">Tour n·ªïi b·∫≠t</h2>
      <p class="text-muted">Nh·ªØng tour ƒë∆∞·ª£c y√™u th√≠ch nh·∫•t hi·ªán nay</p>
    </div>
    <div class="row">
      {% for tour in tours %}
      <div class="col-md-4 mb-4">
        <div class="card h-100 border-0 shadow-hover">
          <img src="{{ tour.image_url }}" class="card-img-top" alt="{{ tour.name }}">
          <div class="card-body">
            <h5 class="card-title fw-semibold">{{ tour.name }}</h5>
            <p class="card-text text-muted">{{ tour.description|truncatewords:15 }}</p>
            <a href="{% url 'tour_detail' tour.id %}" class="btn btn-outline-primary">Xem chi ti·∫øt</a>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-12 text-center py-5">
        <img src="{% static 'images/empty-tour.svg' %}" alt="no tours" width="150" class="mb-3 opacity-75">
        <h5 class="fw-bold text-muted">Hi·ªán ch∆∞a c√≥ tour n·ªïi b·∫≠t n√†o</h5>
        <p class="text-muted">Kh√°m ph√° c√°c tour h·∫•p d·∫´n ƒëang ch·ªù b·∫°n!</p>
        <a href="{% url 'tour_list' %}" class="btn btn-primary mt-3">Xem t·∫•t c·∫£ tour</a>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- üì∞ Tin t·ª©c m·ªõi nh·∫•t -->
<section class="py-5 bg-light">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="fw-bold text-primary">Tin t·ª©c m·ªõi nh·∫•t</h2>
      <p class="text-muted">C·∫≠p nh·∫≠t th√¥ng tin du l·ªãch m·ªõi nh·∫•t m·ªói ng√†y</p>
    </div>
    <div class="row">
      {% for article in news %}
      <div class="col-md-4 mb-4">
        <div class="card border-0 shadow-sm h-100">
          <img src="{{ article.image_url }}" class="card-img-top" alt="{{ article.title }}">
          <div class="card-body">
            <h5 class="card-title fw-semibold">{{ article.title }}</h5>
            <p class="card-text text-muted">{{ article.summary|truncatewords:20 }}</p>
            <a href="{% url 'news_detail' article.id %}" class="btn btn-outline-primary">ƒê·ªçc th√™m</a>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-12 text-center py-5">
        <img src="{% static 'images/empty-news.svg' %}" alt="no news" width="150" class="mb-3 opacity-75">
        <h5 class="fw-bold text-muted">Ch∆∞a c√≥ tin t·ª©c m·ªõi n√†o</h5>
        <p class="text-muted">Theo d√µi c√°c b√†i vi·∫øt m·ªõi nh·∫•t v√† c·∫≠p nh·∫≠t xu h∆∞·ªõng du l·ªãch.</p>
        <a href="{% url 'news_list' %}" class="btn btn-primary mt-3">Xem tin t·ª©c</a>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- ‚úâÔ∏è Newsletter -->
<section class="py-5 text-center bg-gradient bg-primary text-white">
  <div class="container">
    <h2 class="fw-bold mb-3">ƒêƒÉng k√Ω nh·∫≠n th√¥ng tin m·ªõi nh·∫•t</h2>
    <p class="lead mb-4">ƒê·ª´ng b·ªè l·ª° nh·ªØng ∆∞u ƒë√£i h·∫•p d·∫´n v√† tour hot trong th√°ng!</p>
    <form class="d-flex justify-content-center">
      <input type="email" class="form-control w-50 me-2" placeholder="Nh·∫≠p email c·ªßa b·∫°n...">
      <button class="btn btn-light text-primary fw-semibold">ƒêƒÉng k√Ω</button>
    </form>
  </div>
</section>

{% endblock %}
