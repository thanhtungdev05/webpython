{% extends 'base.html' %}
{% load static %}

{% block title %}liên hệ - Travel & Tourism{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/contact.css' %}?v=2">
{% endblock %}

{% block content %}
<div class="container my-5 contact-page">
  <!-- ===== HEADER ===== -->
  <div class="contact-header text-center">
    <h1 class="contact-title">LIÊN HỆ</h1>
    <p class="contact-subtitle">
      Để có thể đáp ứng được các yêu cầu và đóng góp ý kiến của quý khách, xin vui lòng gửi thông tin hoặc gọi đến hotline các chi nhánh bên dưới để liên hệ nhanh chóng.
    </p>

    <!-- ===== SOCIAL LINKS ===== -->
    <div class="social-links">
      <a href="#" class="social-icon facebook"><i class="fab fa-facebook-f"></i></a>
      <a href="#" class="social-icon instagram"><i class="fab fa-instagram"></i></a>
      <a href="#" class="social-icon youtube"><i class="fab fa-youtube"></i></a>
      <a href="#" class="social-icon linkedin"><i class="fab fa-linkedin-in"></i></a>
      <a href="#" class="social-icon twitter"><i class="fab fa-twitter"></i></a>
    </div>
  </div>

  <!-- ===== CONTACT CONTENT ===== -->
  <div class="contact-container">
    <div class="contact-row">

      <!-- LEFT: FORM -->
      <div class="contact-form-section">
        <div class="contact-card">
          <h3 class="section-title">THÔNG TIN LIÊN LẠC</h3>
          <form method="post" action="{% url 'contact' %}" class="contact-form">
            {% csrf_token %}

            <!-- Row 1 -->
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">Loại thông tin <span class="required">*</span></label>
                <select class="form-input" name="category" required>
                  <option>Du lịch</option>
                  <option>Visa</option>
                  <option>Vé máy bay</option>
                  <option>Khác</option>
                </select>
              </div>
              <div class="form-group">
                <label class="form-label">Họ tên <span class="required">*</span></label>
                <input type="text" class="form-input" name="name" placeholder="Nhập họ tên" required>
              </div>
              <div class="form-group">
                <label class="form-label">Email <span class="required">*</span></label>
                <input type="email" class="form-input" name="email" placeholder="Nhập email" required>
              </div>
            </div>

            <!-- Row 2 -->
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">Điện thoại <span class="required">*</span></label>
                <input type="tel" class="form-input" name="phone" placeholder="Nhập số điện thoại" required>
              </div>
              <div class="form-group">
                <label class="form-label">Tên công ty</label>
                <input type="text" class="form-input" name="company" placeholder="Nhập tên công ty">
              </div>
              <div class="form-group">
                <label class="form-label">Số khách</label>
                <input type="number" class="form-input" name="guests" value="0" min="0">
              </div>
            </div>

            <!-- Row 3 -->
            <div class="form-row">
              <div class="form-group full-width">
                <label class="form-label">Địa chỉ</label>
                <input type="text" class="form-input" name="address" placeholder="Nhập địa chỉ">
              </div>
            </div>

            <!-- Row 4 -->
            <div class="form-row">
              <div class="form-group full-width">
                <label class="form-label">Tiêu đề <span class="required">*</span></label>
                <input type="text" class="form-input" name="subject" placeholder="Nhập tiêu đề" required>
              </div>
            </div>

            <!-- Row 5 -->
            <div class="form-row">
              <div class="form-group full-width">
                <label class="form-label">Nội dung <span class="required">*</span></label>
                <textarea class="form-input form-textarea" name="message" placeholder="Nhập nội dung" required></textarea>
              </div>
            </div>

            <!-- Submit -->
            <div class="form-footer">
              <div class="g-recaptcha" data-sitekey="your-site-key"></div>
              <button type="submit" class="btn-submit">Gửi ngay</button>
            </div>
          </form>
        </div>
      </div>

      <!-- RIGHT: BRANCH INFO -->
      <div class="branch-section">
        <div class="branch-card">
          <h3 class="section-title">CHI NHÁNH TOÀN CẦU</h3>

          <!-- Tabs -->
          <div class="branch-tabs">
            <button class="branch-tab active">TP.Hồ Chí Minh</button>
            <button class="branch-tab">Miền Bắc</button>
            <button class="branch-tab">Miền Trung</button>
            <button class="branch-tab">Tây Nguyên</button>
            <button class="branch-tab">Đông Nam Bộ</button>
            <button class="branch-tab">Miền Tây</button>
            <button class="branch-tab">Nước ngoài</button>
          </div>

          <!-- Branch Items -->
          <div class="branch-item">
            <h4 class="branch-title">TRỤ SỞ CHÍNH</h4>
            <div class="branch-detail"><i class="fas fa-map-marker-alt"></i><span>190 Pasteur, Phường Xuân Hoà, TP.HCM</span></div>
            <div class="branch-detail"><i class="fas fa-phone"></i><span>Hotline: (84-28) 38 668 999</span></div>
            <div class="branch-detail"><i class="fas fa-envelope"></i><span>Email: info@vietravel.com</span></div>
          </div>
          <div class="branch-item">
            <h4 class="branch-title">PHÒNG DU LỊCH CHỢ LỚN</h4>
            <div class="branch-detail"><i class="fas fa-map-marker-alt"></i><span>86A Châu Văn Liêm, TP.HCM</span></div>
            <div class="branch-detail"><i class="fas fa-phone"></i><span>Hotline: (84.28) 35 358 709</span></div>
          </div>
          <div class="branch-item">
            <h4 class="branch-title">PHÒNG DU LỊCH QUẬN 11</h4>
            <div class="branch-detail"><i class="fas fa-map-marker-alt"></i><span>1475 Đường 3/2, TP.HCM</span></div>
            <div class="branch-detail"><i class="fas fa-phone"></i><span>Hotline: (84-28) 39 699 439</span></div>
          </div>
        </div>

        <!-- Map -->
        <div class="branch-card mt-3">
          <h3 class="section-title">VỊ TRÍ TRÊN BẢN ĐỒ</h3>
          <div class="map-responsive">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.3193500466957!2d106.69217931533417!3d10.786834892314186!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752f38f9ed887b%3A0x14aded5703768989!2s190%20Pasteur%2C%20Ph%C6%B0%E1%BB%9Dng%206%2C%20Qu%E1%BA%ADn%203%2C%20Th%C3%A0nh%20ph%E1%BB%91%20H%E1%BB%93%20Ch%C3%AD%20Minh!5e0!3m2!1svi!2s!4v1234567890"
              allowfullscreen
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade">
</iframe>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
<script>
document.addEventListener("DOMContentLoaded", function() {
  const tabs = document.querySelectorAll(".branch-tab");
  const items = document.querySelectorAll(".branch-item");

  tabs.forEach((tab, index) => {
    tab.addEventListener("click", () => {
      // Xóa active tab
      tabs.forEach(t => t.classList.remove("active"));
      tab.classList.add("active");

      // Ẩn tất cả branch items
      items.forEach(i => i.style.display = "none");

      // Hiển thị branch tương ứng
      if(items[index]) items[index].style.display = "block";
    });
  });

  // Hiển thị branch đầu tiên mặc định
  items.forEach(i => i.style.display = "none");
  if(items[0]) items[0].style.display = "block";
});
document.addEventListener("DOMContentLoaded", function() {
  const form = document.querySelector(".contact-form");

  form.addEventListener("submit", function(e) {
    e.preventDefault(); // ngăn reload trang

    // Hiển thị thông báo
    let msg = document.createElement("div");
    msg.className = "form-success";
    msg.innerText = "✅ Đã gửi thông tin!";
    form.prepend(msg);

    // Tự ẩn sau 3 giây
    setTimeout(() => {
      msg.remove();
    }, 3000);

    // Reset form
    form.reset();
  });
});
</script>
{% endblock %}